<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>zero.UI.datalist</title>
    <link href="../css/zero.adminUI.css" rel="stylesheet" />
</head>
<body class="zero_ifram_page">
    <div class="zero_main">
        <div class="zero_data_list zero_page_bar_fixed">
            <div class="zero_title_bar clearfix noprint">
            <div class="zero_left"><span class="zero_title">新闻列表</span><a class="zero_bg_icon zero_bg_icon_filter2" onclick="zero.UI.upSideBar('filterSideBar', true)">过滤</a></div>
            <div class="zero_right">
                <input type="button" value="新建" class="zero_bg_icon zero_bg_icon_plus" onclick="myPage.addFunc()" />
                <select class="zero_iframe_page_ctrl zero_bg_icon zero_bg_icon_screen MCW1024H">
                    <option value="">--页面操作--</option>
                    <option value="page_lock">锁定页面</option>
                    <option value="page_unlock">解锁页面</option>
                    <option value="page_refresh">刷新页面</option>
                    <option value="page_print">打印页面</option>
                    <option value="page_source">查看原始源码</option>
                    <option value="page_source_now">查看当前源码</option>
                    <option value="page_full">全屏切换</option>
                </select>
            </div>
            </div>
            <div class="zero_repeat zero_repeat_news" id="dataInit">
                <div class="zero_repeat_item"><div class="zero_repeat_item_inside">
                    <div class="zero_repeat_item_cover">@cover</div>
                    <div class="zero_repeat_item_title"><span>@title</span></div>
                    <div class="zero_repeat_item_con">
                        <div>@summary</div>
                    </div>
                    <div class="zero_repeat_item_btns"><input type="button" value="明细" class="zero_bg_icon zero_bg_icon_eye2" /><input type="button" value="编辑" class="zero_bg_icon zero_bg_icon_pen" /><input type="button" value="删除" class="zero_bg_icon zero_bg_icon_remove2" /></div>
                </div></div>
            </div>
            <div class="zero_page_bar noprint"><div id="pageInit" class="zero_pager noprint"></div></div>
        </div>
        <!--html comment-->
    </div>
    <div id="filterSideBar" class="zero_side_bar">
        <div class="zero_mp_main">
            <div class="zero_side_bar_header">
                <div class="zero_side_bar_header_l"><a class="zero_bg_icon zero_bg_icon_filter2"></a></div>
                <div class="zero_side_bar_header_c">用户过滤(上侧弹出)</div>
                <div class="zero_side_bar_header_r"><a class="zero_side_bar_close zero_bg_icon zero_bg_icon_close"></a></div>
            </div>
            <div class="zero_side_bar_main"><form class="zero_form" id="myForm1">
                <dl class="zero_form_group zero_form_group_cols2">
                    <dd><div class="zero_form_text">
                        <h2 class="zero_form_input_label">角色：</h2>
                         </div><div class="zero_form_input"><select name="role"><option value="">--不限--</option><option value="1">管理员</option><option value="2">会员</option></select></div></dd>
                    <dd><div class="zero_form_text">
                        <h2 class="zero_form_input_label">性别：</h2>
                        </div><div class="zero_form_input"><select name="sex"><option value="">--不限--</option><option value="1">男</option><option value="2">女</option></select></div></dd>
                    <dd><div class="zero_form_text">
                        <h2 class="zero_form_input_label">年龄：</h2>
                        </div><div class="zero_form_input"><select name="age"><option value="">--不限--</option><option value="1-18">1-18岁</option><option value="18-59">18-58岁</option><option value="58-98">58-98岁</option><option value="98">98岁以上</option></select></div></dd>
                    <dd><div class="zero_form_text">
                        <h2 class="zero_form_input_label">排序：</h2>
                        </div><div class="zero_form_input"><select name="sort"><option value="">--不限--</option><option value="1">按注册时间</option><option value="2">按年龄</option></select></div></dd>
                    <dd class="zero_form_cells1"><div class="zero_form_text">
                        <h2 class="zero_form_input_label">区域：</h2>
                         </div><div class="zero_form_input"><input type="text" name="keyword" placeholder="请输入关键词" /></div></dd>
                </dl>
                <div class="zero_form_btns">
                    <input type="button" name="cancelBtn" value="取消" class="zero_side_bar_close" />
                    <input type="submit" name="submitBtn" value="搜索" />
                    <input type="reset" name="resetBtn" value="重置" />
                </div></form>
            </div>
        </div>
    </div>
    <style type="text/css">
        /*style comment*/
        #myDiv,.myDiv{border:solid 1px #dedede;background:#fff; margin:5px;width:180px;height:160px;overflow:hidden;float:left;}
        .zero_selected{border-color:#f90;}
    </style>
    <script type="text/javascript" src="../js/zero.js"></script>
    <script type="text/javascript" src="../js/zero.ch.js"></script>
    <script type="text/javascript" src="../js/zero.UI.js"></script>
    <script type="text/javascript" src="../js/zero.adminUI.js"></script>
    <script type="text/javascript">
        //zero.debug(1);
        var myNews = [
            '传联发科明年将推4颗6nm EUV工艺5G SoC芯片',
            '据台湾媒体报道，近日，台湾 IC 设计龙头联发科第一颗 7nm 智能手机 5G 系统单晶片（SoC）已经量产投片，预计明年第一季出货。除了获得 OPPO、vivo 等大陆手机厂采用，第二颗 7nm 5G SoC 也将在明年中推出，有望打进 OPPO、vivo、华为等中低阶手机供应链。此外，联发科预期',
            '小鼠研究发现更长的端粒更长的寿命',
            '根据发表在《Nature Communications》期刊上的研究，小鼠研究发现更长的端粒表现出更长的寿命更短的代谢年龄。端粒与衰老有着密切的联系，是染色体两端的 “保护帽”，起着保护 DNA 的作用。每一次细胞分裂，端粒都会缩短。 研究人员制备出超长端粒的小鼠，结果显示长端粒小鼠的癌症更少，寿命',
            '有用户报告Windows 10更新会阻止旧版Visual Basic程序运行',
            'Windows 10 更新带来的问题似乎无穷无尽，今天我们曾报道 KB4517389 会在某些设备上导致蓝屏死机问题，而更多的问题还在增加。最近，一些 Windows 10 用户报告说，在安装 KB4517389 更新后，在 Visual Basic 3 上开发的程序无法运行。一位受影响的用户确认该',
            '陆朝阳：在量子世界里“打怪升级”的“超级玩家”',
            '科技日报记者 吴长锋 不久前，中国科学技术大学（以下简称中国科大）博导陆朝阳教授和同事们发表的系列成果受到国际上几乎所有主流科学媒体的关注和赞誉。 从首次设计双色激光驱动量子系统，到制备国际上综合性能最优的量子点单光子源，再到实现高维度量子隐形传态，演示天文尺度的量子干涉……陆朝阳和同事们的这些成果',
            'Disney+ 使用了极其严格的 DRM 保护',
            '迪士尼的流媒体服务 Disney+ 即将正式推出，但如果你是 Linux 用户，那么你可能就需要留意了，因为它使用了极其严格的 DRM 保护，你可能会遭遇无法播放的错误信息。 Fedora 用户报告，在 Firefox 和 Chrome 浏览器上访问 Disney+ 都返回了错误码 83，在联络了迪',
            '崔向群院士：中国急需建造12米大型光学红外望远镜',
            '崔向群院士在中国·天泉湖天文论坛上发表主题演讲。孙自法摄 中新网江苏盱眙 10 月 20 日电 (记者孙自法)中国科学院院士、中科院南京天文光学技术研究所研究员崔向群 20 日指出，中国急需建造 10 米级口径的通用型地面大型光学红外望远镜以及一批与其协作配套观测的特色2-4 米级光学望远镜，以尽快',
            '中国移动首三季营收5667亿元 净利818亿元同比下降13.9%',
            '飞象网讯 （一飞/文）10 月 21 消息，中国移动发布 2019 年首 3 季度报告。受同业及跨界竞争不断加剧、经营环境更趋复杂多变，中国移动直面发展困难，以高质量发展为主线，扎实推进转型升级，全面深化改革创新，深入开展降本增效，积极布局 5G 发展，继续保持了规模优势和行业领先地位。 2019',
            '长江存储64层3D闪存月产能有望在年底达到6万片：明年上马128层',
            '在被美日韩掌控的存储芯片市场上，终于有中国公司可以杀进去跟国际大厂正面竞争了。 据报道，今年一季度，紫光旗下的长江存储（YMTC）开始投产 64 层堆栈 3D 闪存，容量 256Gb，TLC 芯片，初期的月产能仅有 5000 片。 最新消息称，长江存储的 64 层 3D 闪存芯片将在年底',
            '这种超强生物，或许能被送上火星',
            '在科幻小说《沙丘》（Dune）中，沙漠星球阿拉克斯（Arrakis）上遍布着恐怖的巨型沙虫。 电影片段：“天哪，这是什么怪物呀！” 它们能够突然冲出沙丘，一口吞下整辆汽车，而加州理工学院的遗传学家保罗·斯滕伯格（Paul Sternberg）则相当熟悉它们的长相。 “它们看起来和线虫很像',
            '韩国出现了智能手机上瘾治疗营',
            '16 岁的 Yoo Chae-rin 凌晨 4 点还没有睡，她已经把玩智能手机 13 小时，而还有不到 3 小时她就要上学了。她知道自己有问题，因此参加了政府经营的智能手机上瘾治疗营。 韩国有着世界上最高的智能手机拥有率，根据政府的数据 2018 年超过 98% 的青少年有手机，其中许多表现出上瘾症',
            'SAP第三季度净利润14.0亿美元 同比增长30%',
            '腾讯科技讯，据外媒报道，德国商业软件巨头 SAP 周一发布了该公司 2019 年第三季度财报。财报显示，SAP 第三季度净利润达到 12.59 亿欧元（约合 14.0 亿美元），同比增长 30%；营收达到 67.91 亿欧元，同比增长 13%。 在截至 9 月 30 日的第三季度，SAP 总营收为',
            '国内首家！平头哥刚刚宣布开源RISC-V内核MCU芯片设计平台',
            '开源 MCU 芯片设计的平台目标群体包括芯片开发者、IP 供应商、高校及科研院所等，开发者可以基于该平台设计面向细分领域的定制化芯片。 文：包永刚 雷锋网消息，平头哥刚刚在乌镇互联网大会上宣布开源 MCU 芯片设计平台，这是国内首家开源芯片设计平台的公司，也是平头哥继玄铁 910、无剑 SoC、含光',
            '微软和SAP深化合作 推进共同客户的云迁移工作',
            '微软和 SAP 今天宣布扩大双方在进入市场（go-to-market）上的合作伙伴关系，以加速推进共同客户的云迁移工作。微软和 SAP 将为客户提供统一的参考体系结构、路线图和市场认可的信息。 双方的合作将简化 SAP S/4HANA、以及 Azure 上 SAP Cloud Platform 的迁',
            '贾跃亭宣布破产，北京乐视大厦以6.8亿元起价遭拍卖',
            '网易科技讯，10 月 21 日消息，据媒体报道，北京市第三中级人民法院公布的信息显示，将于 11 月 18 日 10 时至 2019 年 11 月 19 日 10 时止（延时的除外）在北京市第三中级人民法院京东网司法拍卖网络平台上，公开拍卖北京乐视大厦，起价约 6.78 亿元。据公开消息，该房屋所有',
            '俄版贺建奎：将修改人卵子中致聋基因，已有一对夫妇愿意参与',
            '昨日有点早，明日等不了，今天刚刚好。俄罗斯科学家Denis Rebrikov 正在按照这个速度推进他的基因修改婴儿计划，在 10 月 18 日的《自然》杂志（Nature）报道中，他声称将要修改耳聋人卵子中的致聋基因。 Rebrikov 说，他还没有打算制造这个基因修改婴儿，因为还没有得到当地审查委',
            '2020年60%云业务营收，金蝶的“氪金”游戏',
            '2019 年的金蝶云全球用户大会是金蝶云·苍穹推出以来的首年检阅，这款解决方案面向超大型企业客户，是继金蝶云·星空以来的第二代原生技术解决方案。 金蝶曾在 2018 年表示，预期 2020 年实现实际云业务营收 60% 的占比。在这承上启下的关键一年里，无论是技术风向还是合作动态，都暗含',
            'Firefox 中文起始页展示天猫双 11 广告',
            '当你第一次打开 Firefox 浏览器，默认的中文起始页（start.firefoxchina.cn）加载十分缓慢，不是通常的常用标签，而是全部为广告——天猫双 11 广告。 你决定去访问下火狐中文网（www.firefoxchina.cn），想知道究竟发生了。结果你会再次出人意料的发现这个网站完全',
            '孕期压力会影响男婴出生率',
            '孕妇承受压力会影响胎儿发育，这已是公认事实。但孕期压力的影响并不只有这些。《美国国家科学院院刊》线上版近日刊发的一篇研究报告称，母亲孕期压力可能还会降低男婴出生率，并易导致早产、胎儿神经发育缓慢等风险增加。 在该项研究中，美国哥伦比亚大学瓦格洛斯内科与外科医学院和纽约长老会',
            '首份胡润全球独角兽榜发布！蚂蚁金服、大疆、网易云音乐等上榜',
            '今日，胡润研究院发布了首份《2019 胡润全球独角兽榜》（Hurun Global Unicorn List 2019），全球估值 10 亿美元以上的科技初创企业排名，上榜企业创办不超过 10 年，获得过私募投资且未上市。这是胡润研究院继六次发布中国独角',
            '黄铮谈二选一：有压力的是阿里 拼多多没压力',
            '网易科技讯 10 月 21 日消息，有媒体报道称 10 月 10 日晚，拼多多四周年庆的动员会上，创始人和 CEO 黄峥出现在总部大楼进行全员大会讲话。在谈及如何看待阿里及二选一问题时黄峥表示： 友商是前辈，拼多多是后辈，要尊重前辈。拼多多站在前辈的肩膀上前进，要感谢前辈。面对二选一的压力，拼多多不',
            '不断“变胖”的宇宙将走向三种命运？',
            '2011 年的诺贝尔物理学奖颁发给了美国和澳大利亚的三位天文学家，他们通过对遥远超新星的观测，发现了宇宙在加速膨胀，这一发现曾震动了整个天文学界。人们想知道，宇宙将走向怎样的结局？ “今天的宇宙在加速膨胀，而且已经加速膨胀了 60 亿年了。天文学界认为，宇宙将走向三种命',
            'Supreme联名手机开卖：售价直接翻三倍',
            '作为目前国际潮流第一品牌，Supreme（纽约）简直就是无敌般的存在，不管多一般的商品，只要跟他们联名打上大大的“Supreme”Logo 就会处于加价供不应求。 现在，廉价机品牌 BLU 正式开卖了他们跟 Supreme（纽约）联名的手机，这就是一款低端的功能机，售价是 60 美元，看',
            '中国电信IPv6部署进展：用户数已达3.05亿',
            '10 月 21 日消息，在“第六届世界互联网大会”上，中国电信副总经理刘桂清表示：“当前中国电信已为 2.5 亿 4G 移动用户和 5500 万家庭光宽用户分配了 IPv6 地址。” 早在 2009 年，中国电信就预见到 IPv4 地址很快就会耗尽，因此决策启动 IPv6 演进',
            '一句f**k代码自动纠错，美女程序员教你建一个狂拽酷炫的终端',
            '有位小姐姐名叫 Sarah Drasner。 她是一位程序员，Netlify 开发者体验团队负责人，Vue 核心团队成员。她也是一位非常有趣的美女，个人网站起名 bomb site。 最近，她又引发了一次“爆炸”。 起因是她在 Twitter',
            'NASA的MRO从轨道上“瞥见”InSight着陆器和好奇号火星车',
            '据外媒报道，美国宇航局（NASA）在红色星球及其周围拥有大量硬件，有时它们在开展业务时会彼此“瞥见”。在 NASA 喷气推进实验室的新文章中，该机构的的火星勘测轨道飞行器(MRO)和 HiRISE 摄像头从轨道上拍摄到令人惊叹的 InSight 着陆器和好奇号火星车图像。 这两张图像各自“讲述”了独',
            '探索研究数字生物标记物 腾讯挖掘AI“测量”疾病的更多可能',
            '10 月 9 日，2019 AI in Pharma 峰会在美国马萨诸塞州波士顿举办，来自世界各地的专家和学者齐聚一堂，共同探讨人工智能在药物研究上的应用潜力。腾讯医疗人工智能研究院院长范伟博士受邀出席并作题为“数字诊疗平台和数字生物标记物”的演讲，分享腾讯在数字生物标记物研究方面的探索和进展。 数',
            '快手CEO宿华：每天超过3000万用户在快手看新闻',
            '快手 CEO 宿华 腾讯科技讯，10 月 21 日上午，在世界互联网大会媒体融合论坛上，快手科技创始人兼 CEO 宿华发表主题演讲“短视频+直播打造融媒新形态”，阐述了短视频在全媒体时代推动媒体融合与发展的无限可能。他表示，目前已有超过 8000 家政务号、媒体号入驻快手；每天超过 3000 万用户',
            '海康威视：大部分美国供应商都已经陆续恢复供货',
            '10 月 21 日消息据澎湃新闻报道，海康威视近日举行业绩说明会透露，在遵守美国出口管制相关规定的前提下，目前大部分美国供应商都已经陆续恢复供货。 海康威视还称，公司对国内业务的预期是稳中有进，海外业务进入平稳增长的阶段。针对公司现金流情况，海康威视回应称，公司当前的业务规模',
            '长城宽带退出宽带市场？官方紧急澄清：继续提供互联网接入服务',
            '10 月 21 日，针对此前媒体报道的“长城宽带网络服务有限公司调整经营范围，退出宽带市场”的消息，鹏博士电信传媒集团股份有限公司发表了媒体澄清公告，表示将继续为用户提供互联网接入服务和其他电信增值业务。 公告主要内容如下： 1、关于长城宽带经营范围变更 公司全资子公司长城宽带网络服务有',
            '给“喜马拉雅山炸个大口子”真能行？',
            '自从开始写科普文章后，笔者经常被各种“令人震惊的事实”和“你所不知道的真相”轰炸。这不，前脚解释完西北地区的干湿变化问题，马上又有人提问：“给喜马拉雅山炸开大口子能否造就西北鱼米之乡？”信息时代，网络上各种消息众说纷纭，其中一些只是博君一笑的段子，一些是人们出于对改变世界的美好期望。事实上大多数人想'
        ];
        var myNewsTitle = [];
        var myNewsSummary = [];
        for (var i = 0; i < myNews.length; i += 2) {
            myNewsTitle.push(myNews[i]);
            myNewsSummary.push(myNews[i + 1]);
        }
        //封装成一个对象(避免变量重名)
        var myPage = {
            dataSource: {},
            showFunc: function (ele, data, row, isSelected) {
                dialog.alert('查看明细', JSON.stringify(data));
            },
            editFunc: function (ele, data, row, isSelected) {
                dialog.alert('新闻修改', '暂不支持修改操作');
            },
            deleteFunc: function (ele, data, row, isSelected) {
                dialog.confirm('操作确认', '确定要删除“' + data.title + '”吗？', function (flag) {
                    flag && myPage.dataSource.removeRow(row);
                });
            },
            searchFunc: function () {
                //收起弹出层
                zero.UI.leftSideBar('filterSideBar', false);
                //获取数据
                var data = zero.form('myForm1').getData();
                //将数据循环写入到查询参数中
                for (var o in data) {
                    var v = data[o];
                    if ('' === v) {
                        myPage.dataSource.queryDataRemove(o);
                    } else {
                        myPage.dataSource.queryDataSet(o, data[o]);
                    }
                }
                //将page查询参数设置为1
                myPage.dataSource.queryDataSet('page', 1);
                //重新加载数据
                myPage.dataSource.reload();
            },
            initFunc: function () {
                myPage.dataSource = zeroUI.datalist({
                    //url:'/home/listTestApi',
                    url: function (request) {
                        var page = request.queryData.page,
                            size = request.queryData.size,
                            total = 23456;
                        if (page < 1) { page = 1; }
                        if (size < 1) { size = 1; }
                        var pages = total % size === 0 ? total / size : parseInt(total / size) + 1;
                        if (page > pages) { page = pages; }
                        var reval = { total: total, rows: [], status: 1, msg: 'OK' },
                            startIndex = page * size - size,
                            endIndex = startIndex + size;
                        if (endIndex > total) { endIndex = total; }
                        var now = (new Date()).getTime();
                        while (startIndex < endIndex) {
                            startIndex++;
                            if (coverIndex > 10) { coverIndex = 1; }
                            var coverIndex = Math.floor(Math.random() * 10);
                            var v = coverIndex < 10 ? '0' + (coverIndex < 1 ? 9 : coverIndex) : coverIndex,
                                cover = '../images/0' + v + '.jpg',
                                clickCount = Math.floor(Math.random() * 10000),
                                likeCount = Math.floor(Math.random() * clickCount),
                                commentCount = Math.floor(Math.random() * likeCount),
                                newsIndex = Math.floor(Math.random() * myNewsTitle.length),
                                title = myNewsTitle[newsIndex],
                                summary = myNewsSummary[newsIndex],
                                time = zero.datetimeFormat(new Date(now - startIndex * 3600000), 'yyyy-MM-dd HH:mm:ss')
                            reval.rows.push({
                                id: startIndex,
                                title: title,
                                clickCount: clickCount,
                                likeCount: likeCount,
                                commentCount: commentCount,
                                cover: cover,
                                summary: summary, createTime: time
                            });
                        }
                        request.end(reval);
                        //zero.log(JSON.stringify(request));
                    },
                    delay: 500,
                    pageNode: 'pageInit',
                    dataNode: 'dataInit',
                    queryData: { page: 1, size: 20},
                    queryHeader: {},
                    queryMethod: 'get',
                    pager: { left: 5, right: 5, showTotal: true, showPages: true, showGoto: true, size: [10, 20, 30, 40, 50, 80, 100] },
                    rowFormat: function (html, index, page, size, row) { return html.replace('#rownum#', page * size + index + 1); },
                    cellFormat: function (name, value, row) {
                        switch (name) {
                            case 'cover':
                                value = '<img src="' + value + '" onload="zero.UI.imgFullParentNode(this)" onclick="dialog.loadBigImage(\'' + row.title + '\',\'' + value + '\')" />';
                                break;
                        }
                        return value;
                    },
                    onRowClick: function (ele, data, row, isSelected) {
                        switch (ele.value) {
                            case '明细':
                                myPage.showFunc(ele, data, row, isSelected);
                                break;
                            case '编辑':
                                myPage.editFunc(ele, data, row, isSelected);
                                break;
                            case '删除':
                                myPage.deleteFunc(ele, data, row, isSelected);
                                break;
                        }
                    },
                    onDataLoad: function (data, page, size, total) {
                        if (data && data.length) {
                            var vLen = ('' + total).length;
                            var fun = function (v) {
                                v = '' + v;
                                while (v.length < vLen) {
                                    v = '0' + v;
                                }
                                return v;
                            };
                            for (var i = 0; i < data.length; i++) {
                                var v = (page * size - size + i + 1);
                                data[i].myCustomSerialNumber = total + '-' + fun(v) + '-' + fun(total - v);
                            }
                        }
                    }
                });
            }
        };
        zero.ready(myPage.initFunc);
    </script>
</body>
</html>