<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>date_input zeroJs</title>
    <link href="../css/zero.adminUI.css" rel="stylesheet" />
    <script type="text/javascript" src="../js/zero.js"></script>
    <script type="text/javascript" src="../js/zero.ch.js"></script>
    <script type="text/javascript">
        zero.ready(function () {
            zero(document.body, 'div').filter('class=demo').foreach(function (num) {
                var s = zero(this).html();
                s = zero.codeHighlight.html(s).match(/.+/g);
                if (s) {
                    s = '<li>' + s.join('</li><li>') + '</li>'
                } else {
                    s = '<li></li>'
                }
                zero(document.createElement('div')).appendTo(this).html('<div style="background:#f2f2f2;">CODE VIEW</div><ol class="zero_code_highlight">' + s + '</ol>');
            });
        });
    </script>
</head>
<body class="zero_ifram_page"><div class="zero_demo_main">
    <h2>zero.dateInput</h2>
    <table class="zero_datatable">
        <thead><tr><td>构造</td></tr></thead>
        <tbody>
        <tr><td>zero.dateInput(title)</td></tr>
        <tr><td>指定模块标题</td></tr>
    </tbody></table>
    <table class="zero_datatable">
        <thead><tr><td>方法</td></tr></thead>
        <tbody>
        <tr><td>target(textInput)</td></tr>
        <tr><td>设置目标文本框</td></tr>
        <tr><td>editType(number)</td></tr>
        <tr><td>设置修改模式，number参数取值：1日期2时间N日期时间</td></tr>
        <tr><td>format(format)</td></tr>
        <tr><td>设置输出格式化，默认格式：yyyy-MM-dd HH:mm:ss</td></tr>
         <tr><td>show(isOpenUp)</td></tr>
        <tr><td>呈现模块，isOpenUp参数是布尔值，为true时模块将采用动画展开</td></tr>
        <tr><td>ok(resultStr, resultJson, resultDate)</td></tr>
        <tr><td>
            <p>确定后回调，参数resultStr是根据format参数对输入结果格式化出来的字符串，参数resultJson是对输入结果的日期时间的JSON格式化，基本构成如：{"yyyy":"2000","MM":"01","dd":"01"}，resultDate是对输入结果转换出来的Date对象</p>
            <p>该方法必须要返回true以表示输入结果是合法的，否则输入输入模块不会关闭。</p></td></tr>
    </tbody></table>
    
    <h3>运用示例(定义在标签上)：</h3>
    <div class="demo">
        <div style="border:solid 1px #dedede;padding:5px;">
            <table>
                <tr><td>日期：</td><td><input type="text" value="2010-01-01" onfocus="zero.dateInput('选择一个日期').target(this).editType(1).format('yyyy年MM月dd日').show(true).ok(function (str, json, date) { this.value = str; return true;})" /></td></tr>
                <tr><td>时间：</td><td><input type="text" value="10:10:25" onfocus="zero.dateInput('选择一个时间').target(this).editType(2).format('HH时mm分ss秒').show(true).ok(function (str, json, date) { this.value = str; return true; })" /></td></tr>
                <tr><td>日期时间：</td><td><input type="text" value="2010-01-01 10:10:25" onfocus="zero.dateInput('选择一个日期时间').target(this).editType(3).format('yyyy年MM月dd日HH时mm分ss秒').show(true).ok(function (str, json, date) { this.value = str; return true; })" /></td></tr>
                <tr><td>日期：</td><td><input type="text" value="2010-01-01" onfocus="zero.dateInput('选择一个日期').target(this).editType(1).format('yyyy年MM月dd日').show(false).ok(function (str, json, date) { this.value = str; return true;})" /></td></tr>
                <tr><td>时间：</td><td><input type="text" value="10:10:25" onfocus="zero.dateInput('选择一个时间').target(this).editType(2).format('HH时mm分ss秒').show(false).ok(function (str, json, date) { this.value = str; return true; })" /></td></tr>
                <tr><td>日期时间：</td><td><input type="text" value="2010-01-01 10:10:25" onfocus="zero.dateInput('选择一个日期时间').target(this).editType(3).format('yyyy年MM月dd日HH时mm分ss秒').show(false).ok(function (str, json, date) { this.value = str; return true; })" /></td></tr>
            </table>
        </div>
    </div>
    <h3>运用示例(通过脚本绑定)：</h3>
    <div class="demo">
        <div style="border:solid 1px #dedede;padding:5px;">
            <table>
                <tr><td>日期：</td><td><input type="text" id="date1" /></td></tr>
                <tr><td>时间：</td><td><input type="text" id="time1" /></td></tr>
                <tr><td>日期时间：</td><td><input type="text" id="datetime1" /></td></tr>
                <tr><td>日期：</td><td><input type="text" id="date2" /></td></tr>
                <tr><td>时间：</td><td><input type="text" id="time2" /></td></tr>
                <tr><td>日期时间：</td><td><input type="text" id="datetime2" /></td></tr>
            </table>
        </div>
        <script type="text/javascript">
            document.getElementById('date1').onfocus = function () {
                zero.dateInput('选择一个日期')
                    .target(this)//关联目标控件
                    .editType(1)//修改(1日期2时间N日期时间)
                    .format('yyyy年MM月dd日')//格式化(默认格式：yyyy-MM-dd HH:mm:ss)
                    .show(true)//动画呈现
                    .ok(function (str, json, date) {
                        this.value = str;
                        return true;//返回任意为true的值表示输入合法才会关闭选择框
                    });
            };
            document.getElementById('time1').onfocus = function () {
                zero.dateInput('选择一个时间')
                    .target(this)
                    .editType(2)
                    .format('HH时mm分ss秒')
                    .show(true)
                    .ok(function (str, json, date) {
                        this.value = str;
                        return true;
                    });
            };
            document.getElementById('datetime1').onfocus = function () {
                zero.dateInput('选择一个日期时间')
                    .target(this)
                    .format('yyyy年MM月dd日HH时mm分ss秒')
                    .show(true)
                    .ok(function (str, json, date) {
                        this.value = str;
                        return true;
                    });
            };
            document.getElementById('date2').onfocus = function () {
                zero.dateInput('选择一个日期')
                    .target(this)
                    .editType(1)
                    .format('yyyy年MM月dd日')
                    .show(false)
                    .ok(function (str, json, date) {
                        this.value = str;
                        return true;
                    });
            };
            document.getElementById('time2').onfocus = function () {
                zero.dateInput('选择一个时间')
                    .target(this)
                    .editType(2)
                    .format('HH时mm分ss秒')
                    .show(false)
                    .ok(function (str, json, date) {
                        this.value = str;
                        return true;
                    });
            };
            document.getElementById('datetime2').onfocus = function () {
                zero.dateInput('选择一个日期时间')
                    .target(this)
                    .format('yyyy年MM月dd日HH时mm分ss秒')
                    .show(false)
                    .ok(function (str, json, date) {
                        this.value = str;
                        return true;
                    });
            };
        </script>
    </div>
    <div>
        <p>本文终。</p>
    </div>
</div></body>
</html>